(this["webpackJsonppre-assignment-ui"]=this["webpackJsonppre-assignment-ui"]||[]).push([[0],{70:function(e,t,a){e.exports=a(97)},97:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(9),i=a.n(l),o=a(151),c=a(150),m=a(31),s=a(61),d=a(27),u=a(148),p=a(62),f=a(153),g=a(149),E=a(58),h=a.n(E),b=a(57),v=a(32),y=a.n(v),k="https://dwellet-api.harrytang.com/apartments",O=function(e){return y.a.get("".concat(k,"/?$limit=").concat(e.limit,"&$skip=").concat(e.skip,"&$sort[createdAt]=-1")).then((function(e){return e.data}))},j=function(e){return y.a.post(k,e).then((function(e){return e.data}))},C=function(e,t){return y.a.patch("".concat(k,"/").concat(e),t).then((function(e){return e.data}))},x=function(e){return y.a.delete("".concat(k,"/").concat(e)).then((function(e){return e.data}))},w=a(140),P=Object(b.a)((function(e){return{footer:{borderTop:"1px solid ".concat(e.palette.divider),marginTop:e.spacing(4),paddingTop:e.spacing(2)}}})),H=function(){var e=P();return r.a.createElement(p.a,{variant:"body2",color:"textSecondary",align:"center",className:e.footer},"Copyright \xa9 ",r.a.createElement(w.a,{color:"inherit",href:"https://dwellet.harrytang.com/"},"dwellet")," ",(new Date).getFullYear(),".")},N=a(141),q=a(99),A=a(152),B=a(142),D=a(154),S=a(100),F=Object(b.a)((function(e){return{layout:Object(m.a)({width:"auto",marginLeft:e.spacing(2),marginRight:e.spacing(2)},e.breakpoints.up(600+2*e.spacing(2)),{width:600,marginLeft:"auto",marginRight:"auto"}),paper:Object(m.a)({marginTop:e.spacing(3),marginBottom:e.spacing(3),padding:e.spacing(2)},e.breakpoints.up(600+2*e.spacing(3)),{marginTop:e.spacing(6),marginBottom:e.spacing(6),padding:e.spacing(3)}),buttons:{display:"flex",justifyContent:"flex-end"},button:{marginTop:e.spacing(3),marginLeft:e.spacing(1)}}})),_=function(e){var t=e.closeFormHandler,a=e.formAction,n=e.formData,l=e.submitHandler,i=e.fromDataHandler,o=F();return r.a.createElement("main",{className:o.layout},r.a.createElement(q.a,{className:o.paper},r.a.createElement(p.a,{component:"h1",variant:"h4",align:"center"},null===a?"New Apartment":"Update ApartmentForm"),r.a.createElement(N.a,{container:!0,spacing:3},r.a.createElement(N.a,{item:!0,xs:12},r.a.createElement(A.a,{required:!0,id:"address",name:"address",label:"Address",fullWidth:!0,onChange:i,value:n.address})),r.a.createElement(N.a,{item:!0,xs:12,sm:6},r.a.createElement(A.a,{required:!0,id:"postalCode",name:"postalCode",label:"Postal Code",fullWidth:!0,onChange:i,value:n.postalCode})),r.a.createElement(N.a,{item:!0,xs:12,sm:6},r.a.createElement(A.a,{required:!0,id:"postalArea",name:"postalArea",label:"Postal Area",fullWidth:!0,onChange:i,value:n.postalArea})),r.a.createElement(N.a,{item:!0,xs:12,sm:4},r.a.createElement(A.a,{required:!0,id:"rooms",name:"rooms",label:"Rooms",fullWidth:!0,onChange:i,value:n.rooms})),r.a.createElement(N.a,{item:!0,xs:12,sm:4},r.a.createElement(A.a,{required:!0,id:"squareMeters",name:"squareMeters",label:"Square Meters",fullWidth:!0,onChange:i,value:n.squareMeters})),r.a.createElement(N.a,{item:!0,xs:12,sm:4},r.a.createElement(B.a,{control:r.a.createElement(D.a,{color:"secondary",name:"hasElevator",onChange:i,checked:n.hasElevator}),label:"Elevator"})),r.a.createElement(N.a,{item:!0,xs:12,sm:6},r.a.createElement(A.a,{required:!0,id:"buildYear",name:"buildYear",label:"Build Year",fullWidth:!0,onChange:i,value:n.buildYear})),r.a.createElement(N.a,{item:!0,xs:12,sm:6},r.a.createElement(A.a,{required:!0,id:"price",name:"price",label:"Price",fullWidth:!0,onChange:i,value:n.price})),r.a.createElement(N.a,{item:!0,xs:12},r.a.createElement(A.a,{required:!0,id:"notes",name:"notes",label:"Notes",fullWidth:!0,multiline:!0,rows:"6",onChange:i,value:n.notes})),r.a.createElement("div",{className:o.buttons},r.a.createElement(S.a,{variant:"contained",color:"primary",className:o.button,onClick:l},"Submit"),r.a.createElement(S.a,{variant:"contained",className:o.button,onClick:t},"Back")))))},T=a(143),W=a(144),Y=a(145),M=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(N.a,{item:!0,xs:4},r.a.createElement(p.a,{variant:"body1"},e.attr)),r.a.createElement(N.a,{item:!0,xs:8},r.a.createElement(p.a,{variant:"body1"},e.value)))},R=a(146),L=Object(b.a)((function(e){return{cardGrid:{paddingTop:e.spacing(8),paddingBottom:e.spacing(8)},card:{height:"100%",display:"flex",flexDirection:"column"},cardMedia:{paddingTop:"56.25%"},cardContent:{flexGrow:1}}})),I=function(e){var t=e.apartment,a=e.openFormHandler,n=e.deleteHandler,l=L();return r.a.createElement(N.a,{item:!0,key:t._id,xs:12,sm:6,md:4},r.a.createElement(T.a,{className:l.card},r.a.createElement(W.a,{className:l.cardMedia,image:"https://source.unsplash.com/featured/?house",title:"Image title"}),r.a.createElement(Y.a,{className:l.cardContent},r.a.createElement(N.a,{container:!0},r.a.createElement(M,{attr:"Address",value:t.address}),r.a.createElement(M,{attr:"Postal Code",value:t.postalCode}),r.a.createElement(M,{attr:"Postal Area",value:t.postalArea}),r.a.createElement(M,{attr:"Rooms",value:t.rooms}),r.a.createElement(M,{attr:"Square m\xb2",value:t.squareMeters}),r.a.createElement(M,{attr:"Build Year",value:t.buildYear}),"boolean"===typeof t.hasElevator?r.a.createElement(M,{attr:"Elevator",value:t.hasElevator?"Yes":"No"}):null,r.a.createElement(M,{attr:"Price",value:t.price}),"string"===typeof t.notes?r.a.createElement(M,{attr:"Note",value:t.notes}):null)),r.a.createElement(R.a,null,r.a.createElement(S.a,{size:"small",color:"primary",variant:"contained",onClick:function(){return a(t._id,t)}},"Edit"),r.a.createElement(S.a,{size:"small",color:"secondary",variant:"contained",onClick:function(){return n(t._id)}},"Delete"))))},$=a(147),z=function(e){var t=e.apartments,a=e.pagination,n=e.prePageHandler,l=e.nextPageHandler,i=e.openFormHandler,o=e.deleteHandler;return r.a.createElement(r.a.Fragment,null,t.length>0?r.a.createElement(N.a,{container:!0,spacing:4},t.map((function(e){return r.a.createElement(I,{key:e._id,apartment:e,openFormHandler:i,deleteHandler:o})})),r.a.createElement(N.a,{container:!0,spacing:1,direction:"column",alignItems:"center"},r.a.createElement(N.a,{item:!0},r.a.createElement($.a,{color:"primary","aria-label":"outlined primary button group"},r.a.createElement(S.a,{variant:"contained",disabled:0===a.skip,onClick:n},"PRE"),r.a.createElement(S.a,{variant:"contained",disabled:a.skip+a.limit>=a.total,onClick:l},"NEXT"))))):r.a.createElement(p.a,{variant:"body1"},-1===a.total?"Loading...":"No data"))};function G(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var J=Object(b.a)((function(e){return{header:{flex:1,borderBottom:"1px solid ".concat(e.palette.divider),paddingBottom:e.spacing(4),marginBottom:e.spacing(4)},newBtn:{float:"right"}}})),U=function(){var e=J(),t={address:"",postalCode:"",postalArea:"",rooms:"",squareMeters:"",hasElevator:!1,buildYear:"",price:"",notes:""},a=Object(n.useState)([]),l=Object(d.a)(a,2),i=l[0],o=l[1],c=Object(n.useState)("closed"),E=Object(d.a)(c,2),b=E[0],v=E[1],y=Object(n.useState)(null),k=Object(d.a)(y,2),w=k[0],P=k[1],N=Object(n.useState)(t),q=Object(d.a)(N,2),A=q[0],B=q[1],D=Object(n.useState)({total:-1,limit:6,skip:0}),S=Object(d.a)(D,2),F=S[0],T=S[1];Object(n.useEffect)((function(){O({limit:6,skip:0}).then((function(e){T({total:e.total,limit:e.limit,skip:e.skip}),o(e.data)}))}),[]);var W=function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;P(e),B(null!==a?a:t),v("opened")};return r.a.createElement(u.a,{maxWidth:"lg"},r.a.createElement(f.a,{my:4},r.a.createElement(p.a,{variant:"h3",component:"h1",gutterBottom:!0,className:e.header},"Apartments",r.a.createElement(g.a,{color:"primary","aria-label":"add",className:e.newBtn,onClick:function(){return W(null)}},r.a.createElement(h.a,null))),"closed"===b?r.a.createElement(z,{apartments:i,pagination:F,prePageHandler:function(){O({limit:F.limit,skip:F.skip-F.limit}).then((function(e){T({total:e.total,limit:e.limit,skip:e.skip}),o(e.data)}))},nextPageHandler:function(){O({limit:F.limit,skip:F.skip+F.limit}).then((function(e){T({total:e.total,limit:e.limit,skip:e.skip}),o(e.data)}))},openFormHandler:W,deleteHandler:function(e){window.confirm("Do you really want to delete this?")&&x(e).then((function(e){0===i.filter((function(t){return t._id!==e._id})).length?O({limit:F.limit,skip:0}).then((function(e){T({total:e.total,limit:e.limit,skip:e.skip}),o(e.data)})):o(i.filter((function(t){return t._id!==e._id})))}))}}):r.a.createElement(_,{closeFormHandler:function(){v("closed")},formAction:w,formData:A,submitHandler:function(){null===w?j(A).then((function(e){v("closed"),O({limit:F.limit,skip:0}).then((function(e){T({total:e.total,limit:e.limit,skip:e.skip}),o(e.data)}))})):C(w,A).then((function(e){var t=i.findIndex((function(t){return t._id===e._id})),a=Object(s.a)(i);a[t]=e,v("closed"),o(a)}))},fromDataHandler:function(e){var t=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?G(Object(a),!0).forEach((function(t){Object(m.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):G(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},A),a=e.target.name,n="";n="hasElevator"!==a?e.target.value:e.target.checked,t[a]=n,B(t)}}),r.a.createElement(H,null)))},X=a(59),K=a.n(X),Q=a(60),V=Object(Q.a)({palette:{primary:{main:"#556cd6"},secondary:{main:"#f50057"},error:{main:K.a.A400},background:{default:"#fff"}}});i.a.render(r.a.createElement(c.a,{theme:V},r.a.createElement(o.a,null),r.a.createElement(U,null)),document.querySelector("#root"))}},[[70,1,2]]]);
//# sourceMappingURL=main.ba1ff77a.chunk.js.map